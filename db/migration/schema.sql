CREATE TABLE `m_produk` (
  `KODE_PRODUK` varchar(5) NOT NULL DEFAULT '',
  `NAMA_PRODUK` varchar(50) DEFAULT '',
  `NAMA_PRODUK_DISPLAY` varchar(50) DEFAULT NULL,
  `NAMA_STRUK` varchar(70) DEFAULT NULL,
  `NAMA_STRUK_SINGKATAN` varchar(70) DEFAULT NULL,
  `PRODUK_ALIAS` varchar(15) DEFAULT NULL,
  `PRODUK_GROUP` varchar(20) DEFAULT NULL,
  `PRODUK_INDEX` int(3) DEFAULT 0,
  `PRODUK_DATE` date DEFAULT NULL,
  `LABEL_IDPEL` varchar(50) DEFAULT 'IDPELANGGAN',
  `LABEL_OPTION` text CHARACTER SET latin1 DEFAULT NULL,
  `STATUS` int(1) DEFAULT -1,
  PRIMARY KEY (`KODE_PRODUK`) USING BTREE,
  KEY `PRODUK_GROUP` (`PRODUK_GROUP`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `m_produk_provider` (
  `IDPRODUK` int(11) NOT NULL AUTO_INCREMENT,
  `KODE_PRODUK` varchar(5) CHARACTER SET latin1 DEFAULT '',
  `KODE_PRODUK_PROVIDER` varchar(15) CHARACTER SET latin1 DEFAULT NULL,
  `NAMA_PRODUK` varchar(50) CHARACTER SET latin1 DEFAULT NULL,
  `KATEGORI` varchar(5) CHARACTER SET latin1 DEFAULT NULL,
  `PROVIDER` varchar(25) CHARACTER SET latin1 DEFAULT NULL,
  `RCTYPE` varchar(30) CHARACTER SET latin1 DEFAULT NULL,
  `PROVIDER_BANK` varchar(25) CHARACTER SET latin1 DEFAULT NULL,
  `FEE_PRODUK` int(6) DEFAULT 0,
  `MODE_STO` varchar(2) CHARACTER SET latin1 DEFAULT 'N' COMMENT 'N = NOMODE. R = REVERSAL, A = ADVICE',
  `MODE_REPEAT` int(1) NOT NULL DEFAULT 0,
  `CLASS_RPC` varchar(20) DEFAULT 'default',
  `CLASS_NAME` varchar(30) CHARACTER SET latin1 DEFAULT NULL,
  `CLASS_TIPE` varchar(5) CHARACTER SET latin1 DEFAULT 'http' COMMENT 'tcp,http,https',
  `CLASS_IP` varchar(50) CHARACTER SET latin1 DEFAULT NULL,
  `CLASS_PORT` int(4) DEFAULT 80,
  `CLASS_PATH` varchar(40) CHARACTER SET latin1 DEFAULT NULL,
  `CLASS_SETTING` varchar(200) DEFAULT NULL,
  `CLASS_TIMEOUT` int(3) DEFAULT 0,
  `TIPEMODEL` char(1) DEFAULT '0' COMMENT '0 = POSTPAID, 1 = PREPAID WITH INQ SINGLE OPTION,   2 = PREPAID WITH INQ MULTIPLE OPTION, 3 = PREPAID NON INQ',
  `SCREENNAME` varchar(50) DEFAULT '',
  `STATUS` int(1) DEFAULT -1,
  `FEE_APP_1` int(6) DEFAULT 0,
  `FEE_CA_1` int(6) DEFAULT 0,
  `FEE_BILLER_1` int(6) DEFAULT 0,
  `FEE_APP_2` int(6) DEFAULT 0,
  `FEE_CA_2` int(6) DEFAULT 0,
  `FEE_BILLER_2` int(6) DEFAULT 0,
  `FEE_APP_3` int(6) DEFAULT 0,
  `FEE_CA_3` int(6) DEFAULT 0,
  `FEE_BILLER_3` int(6) DEFAULT 0,
  `FEE_APP_4` int(6) DEFAULT 0,
  `FEE_CA_4` int(6) DEFAULT 0,
  `FEE_BILLER_4` int(6) DEFAULT 0,
  PRIMARY KEY (`IDPRODUK`) USING BTREE,
  KEY `PRODUCTCODE` (`KODE_PRODUK`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `m_partnerid_produk` (
  `IDPARTNER_PRODUK` int(11) NOT NULL AUTO_INCREMENT,
  `IDPRODUK` int(11) DEFAULT NULL,
  `IDPARTNER` int(11) DEFAULT NULL,
  `IDMERCHANT` int(11) DEFAULT NULL,
  `PRIORITAS` int(11) DEFAULT 0,
  `STATUS` int(1) DEFAULT -1,
  PRIMARY KEY (`IDPARTNER_PRODUK`) USING BTREE,
  UNIQUE KEY `IDPRODUK` (`IDPRODUK`,`IDPARTNER`,`IDMERCHANT`) USING BTREE,
  KEY `IDMERCHANT` (`IDMERCHANT`) USING BTREE,
  KEY `IDPARTNER` (`IDPARTNER`) USING BTREE,
  KEY `IDPORDUK2` (`IDPRODUK`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;

CREATE TABLE `m_partnerid` (
  `IDPARTNER` int(11) NOT NULL AUTO_INCREMENT,
  `NAMA` varchar(50) DEFAULT NULL,
  `ALAMAT` varchar(50) DEFAULT NULL,
  `TELP` varchar(50) DEFAULT NULL,
  `MODE` int(1) unsigned DEFAULT 1 COMMENT '1 = SUBTRACT DEPOSIT OUTLET ONLY (JIKA DEPOSIT SETOR KE ADMIN), 2 = SUBTRACT DEPOSIT PARTNER AND OUTLET (JIKA DEPOSIT DISETOR KE CA), 3 = H2H DEPOSIT, 4 = H2H UNLIMITED',
  `USE_SALDO` int(1) DEFAULT 1 COMMENT '1 = DEPOSIT, 2 = VIRTUAL',
  `STATUS` int(1) DEFAULT -1,
  PRIMARY KEY (`IDPARTNER`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;

-- db_aggregator_dev.transaksi_log definition

CREATE TABLE `transaksi_log` (
  `IDTRXLOG` int(11) NOT NULL AUTO_INCREMENT,
  `BLTH` varchar(6) NOT NULL DEFAULT '',
  `TGL_WAKTU` datetime DEFAULT NULL,
  `IDPARTNER` int(11) DEFAULT NULL,
  `IDOUTLET` int(11) DEFAULT NULL,
  `IDUSER` int(11) DEFAULT NULL,
  `IDPRODUK` int(11) DEFAULT NULL,
  `IDMERCHANT` int(11) DEFAULT NULL,
  `REQUEST_TIPE` varchar(100) DEFAULT NULL,
  `KATEGORI` varchar(10) DEFAULT NULL,
  `KODE_BANK` varchar(15) DEFAULT NULL,
  `IDPEL` varchar(40) DEFAULT NULL,
  `SUB_IDPEL` varchar(10) DEFAULT NULL,
  `RP_BILLER_POKOK` bigint(14) DEFAULT 0,
  `RP_BILLER_DENDA` int(9) DEFAULT 0,
  `RP_BILLER_LAIN` int(11) DEFAULT 0,
  `RP_BILLER_POTONGAN` int(11) DEFAULT 0,
  `RP_BILLER_TAG` bigint(11) DEFAULT 0,
  `RP_FEE_APP` int(6) DEFAULT 0,
  `RP_FEE_PARTNER` int(6) DEFAULT 0,
  `RP_FEE_BILLER` int(6) DEFAULT 0,
  `RP_FEE_AGREGATOR` int(6) DEFAULT NULL,
  `RP_FEE_USER` int(6) DEFAULT 0,
  `RP_FEE_STRUK` int(6) DEFAULT 0,
  `RP_AMOUNT_PARTNER` bigint(14) DEFAULT 0 COMMENT 'RP_BILLER_AMOUNT + RP_FEE_APP + RP_FEE_PARTNER',
  `RP_AMOUNT_STRUK` bigint(14) DEFAULT 0 COMMENT 'RP_BILLER_AMOUNT + RP_FEE_STRUK',
  `LEMBAR` int(3) DEFAULT 1,
  `PRIVATE_KEY` text DEFAULT NULL,
  `AGN_REF` varchar(40) DEFAULT NULL,
  `CLIENT_REF` varchar(40) DEFAULT NULL,
  `CLIENT_STAN` bigint(14) DEFAULT NULL,
  `CLIENT_MESSAGE` text DEFAULT NULL,
  `CLIENT_RESPONSE` text DEFAULT NULL,
  `CLIENT_RCODE` varchar(11) DEFAULT NULL,
  `MIDDLEWARE_RESPONSE` text DEFAULT NULL,
  `PROVIDER_REF` varchar(40) DEFAULT NULL,
  `PROVIDER_REQUEST` text DEFAULT NULL,
  `PROVIDER_RESPONSE` text DEFAULT NULL,
  `PROVIDER_RCODE` varchar(15) DEFAULT NULL,
  `BLTH_TAGIHAN` varchar(200) DEFAULT NULL,
  `ACCESS_IP` varchar(20) DEFAULT NULL,
  `ACCESS_BROWSER` varchar(200) DEFAULT NULL,
  `STATUS` int(1) DEFAULT -1 COMMENT '-2 = HAPUS, -1 = GAGAL, 0 = PENDING, 1 = SUKSES',
  `IDTRX` int(11) DEFAULT NULL,
  PRIMARY KEY (`IDTRXLOG`,`BLTH`) USING BTREE,
  KEY `BLTH` (`BLTH`) USING BTREE,
  KEY `IDPARTNER` (`IDPARTNER`) USING BTREE,
  KEY `IDPRODUK` (`IDPRODUK`) USING BTREE,
  KEY `IDMERCHANT` (`IDMERCHANT`) USING BTREE,
  KEY `KATEGORI` (`KATEGORI`) USING BTREE,
  KEY `IDPEL` (`IDPEL`) USING BTREE,
  KEY `STATUS` (`STATUS`) USING BTREE,
  KEY `IDUSER` (`IDUSER`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;

-- db_aggregator_dev.transaksi definition

CREATE TABLE `transaksi` (
  `IDTRX` int(11) NOT NULL AUTO_INCREMENT,
  `BLTH` varchar(6) NOT NULL DEFAULT '',
  `TGL_WAKTU` datetime DEFAULT NULL,
  `IDPARTNER` int(11) DEFAULT NULL,
  `IDOUTLET` int(11) DEFAULT NULL,
  `IDUSER` int(11) DEFAULT NULL,
  `IDUSER_ADMIN` int(11) DEFAULT NULL,
  `IDPRODUK` int(11) DEFAULT NULL,
  `IDMERCHANT` int(11) DEFAULT NULL,
  `KATEGORI` varchar(10) DEFAULT NULL,
  `KODE_BANK` varchar(15) DEFAULT NULL,
  `IDPEL` varchar(40) DEFAULT NULL,
  `SUB_IDPEL` varchar(10) DEFAULT NULL,
  `RP_BILLER_POKOK` bigint(14) DEFAULT 0,
  `RP_BILLER_DENDA` int(9) DEFAULT 0,
  `RP_BILLER_LAIN` int(11) DEFAULT 0,
  `RP_BILLER_POTONGAN` int(11) DEFAULT 0,
  `RP_BILLER_TAG` bigint(14) DEFAULT 0,
  `RP_FEE_APP` int(6) DEFAULT 0,
  `RP_FEE_PARTNER` int(6) DEFAULT 0,
  `RP_FEE_BILLER` int(6) DEFAULT 0,
  `RP_FEE_AGREGATOR` int(6) DEFAULT 0,
  `RP_FEE_USER` int(6) DEFAULT 0,
  `RP_FEE_STRUK` int(6) DEFAULT 0,
  `PROVIDER` varchar(25) DEFAULT NULL,
  `RP_AMOUNT_STRUK` bigint(14) DEFAULT 0,
  `RP_AMOUNT` bigint(14) DEFAULT 0,
  `TIPE_SALDO_PARTNER` int(1) DEFAULT NULL,
  `SALDO_PARTNER` bigint(14) DEFAULT 0,
  `TIPE_SALDO_USER` int(1) DEFAULT NULL,
  `SALDO_USER` bigint(14) DEFAULT 0,
  `SUBTRACT_MODE` int(1) unsigned DEFAULT 0,
  `LEMBAR` int(3) DEFAULT 1,
  `PRIVATE_KEY` text DEFAULT NULL,
  `AGN_REF` varchar(40) DEFAULT NULL,
  `CLIENT_REF` varchar(40) DEFAULT NULL,
  `CLIENT_STAN` bigint(14) DEFAULT NULL,
  `CLIENT_MESSAGE` text DEFAULT NULL,
  `CLIENT_RESPONSE` text DEFAULT NULL,
  `CLIENT_RCODE` varchar(11) DEFAULT NULL,
  `CLIENT_IDTRX` int(11) DEFAULT 0,
  `MIDDLEWARE_RESPONSE` text DEFAULT NULL,
  `PROVIDER_REF` varchar(40) DEFAULT NULL,
  `PROVIDER_REQUEST` text DEFAULT NULL,
  `PROVIDER_RESPONSE` text DEFAULT NULL,
  `PROVIDER_RCODE` varchar(15) DEFAULT NULL,
  `BLTH_TAGIHAN` varchar(100) DEFAULT NULL,
  `ACCESS_IP` varchar(20) DEFAULT NULL,
  `ACCESS_BROWSER` varchar(200) DEFAULT NULL,
  `KET` text DEFAULT NULL,
  `STATUS` int(1) DEFAULT -1 COMMENT '-2 = HAPUS, -1 = GAGAL, 0 = PENDING, 1 = SUKSES, 2 = RESTITUSI',
  `IDTRXDETAIL` int(11) DEFAULT NULL,
  `IDTRXRESTITUSI` int(11) DEFAULT NULL,
  `IDTRXDEPOSIT` int(11) DEFAULT NULL,
  `IDKONFIRMASI` int(11) DEFAULT NULL,
  `INFO` varchar(200) DEFAULT NULL,
  `COPY` int(2) DEFAULT -1,
  `STATUS_BACKUP` int(1) DEFAULT NULL,
  PRIMARY KEY (`IDTRX`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;
